openapi: 3.0.2
info:
  title: origins-integrationV1
  version: 1.0.0
  description: |
    API de integração de origem de oportunidade (Origins) V1

    Compatível com a versão V7 do serviço de negócio Opportunity
  contact: {}
servers:
- url: https://{url}/api/{version}/integration
  description: Integration Router Server
  variables:
    url:
      default: totvscrm.app
      description: URL de acesso ao Integration-Router
    version:
      default: v1
      description: Versão do Integration-Router
paths:
  /record:
    get:
      tags:
      - origins
      parameters:
      - name: Integration-Service
        description: 'Serviço responsável pela entidade. Exemplo: Opportunity'
        schema:
          default: opportunity
          type: string
        in: header
        required: true
      - name: Integration-Resource
        description: 'Recurso para requisição. Exemplo: origins-integration'
        schema:
          default: origins-integration
          type: string
        in: header
        required: true
      - name: Integration-Version
        description: 'Versão da API de integração. Exemplo: v1'
        schema:
          default: v1
          type: string
        in: header
        required: true
      - name: Integration-Filter
        description: |
          Filtro opcional para realizar a busca de um ou mais registros. Suporta o uso de
          RestQuery.

          Se o header for omitido, lista todos os registros

          Se o header não contiver valores, lista todos os registros
        schema:
          type: string
        in: header
        required: false
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Origin_GetResponse'
          description: Returns a list of origins
        401:
          description: Unauthorized
      summary: Listar origins
      description: Retorna uma lista de origens cadastrados ou determinadas origens
        com base nos filtros na URL.
components:
  schemas:
    Origin_GetResponse:
      type: object
      properties:
        id:
          description: Identificador do registro no CRM. O UUID é único.
          type: string
          example: b11d97a5-ebec-4e8e-ac12-abe88853a284
        externalId:
          description: Chave de identificação do registro em sistema externo. Deve
            ser único
          type: string
          example: origemLead#cf707124-07fe-45fe-987f-c2ccffe4e479
        customerSourceId:
          format: UUID
          description: Identificador do cliente de origem
          type: string
        leadSourceId:
          format: UUID
          description: Identificador do lead de origem
          type: string
          example: cf707124-07fe-45fe-987f-c2ccffe4e479
        campaignSourceId:
          format: UUID
          description: Identificador da campanha de origem
          type: string
        opportunitySourceId:
          format: UUID
          description: Identificador da oportunidade de origem
          type: string
        activitySourceId:
          format: UUID
          description: Identificador da atividade de origem
          type: string
        actionPlanSourceId:
          format: UUID
          description: Identificador do plano de ação de origem
          type: string
        sourceType:
          description: Tipo da origem
          enum:
          - CUSTOMER
          - LEAD
          - CAMPAIGN
          - OPPORTUNITY
          - ACTIVITY
          - ACTION_PLAN
          - UNKNOWN
          type: string
          example: LEAD
        targetType:
          description: Tipo do destino
          enum:
          - OPPORTUNITY
          - ACTIVITY
          - UNKNOWN
          type: string
          example: ACTIVITY
        createdAt:
          description: Data e hora de criação
          type: string
          example: 2020-09-02T16:44:11.225Z
        updatedAt:
          description: Data e hora de atualização
          type: string
          example: 2020-09-03T19:25:30.775Z
      example:
        id: b11d97a5-ebec-4e8e-ac12-abe88853a284
        externalId: origemLead#cf707124-07fe-45fe-987f-c2ccffe4e479
        leadSourceId: cf707124-07fe-45fe-987f-c2ccffe4e479
        sourceType: LEAD
        targetType: ACTIVITY
        createdAt: 2020-09-02T16:44:11.225Z
        updatedAt: 2020-09-03T19:25:30.775Z
